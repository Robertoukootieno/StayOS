# Jaeger Configuration for StayOS
# Distributed tracing configuration

# Collector configuration
collector:
  zipkin:
    host-port: :9411
  
  # OTLP receiver configuration
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

# Query service configuration
query:
  base-path: /
  static-files: /go/jaeger-ui/
  ui-config: /etc/jaeger/ui-config.json
  
  # GRPC server configuration
  grpc-server:
    host-port: :16685

# Storage configuration
storage:
  type: elasticsearch
  elasticsearch:
    server-urls: http://elasticsearch:9200
    index-prefix: jaeger
    username: ${ELASTICSEARCH_USERNAME}
    password: ${ELASTICSEARCH_PASSWORD}
    sniffer: false
    max-span-age: 168h  # 7 days
    num-shards: 5
    num-replicas: 1

# Sampling configuration
sampling:
  strategies-file: /etc/jaeger/sampling-strategies.json

# Metrics configuration
metrics:
  backend: prometheus
  http-route: /metrics

